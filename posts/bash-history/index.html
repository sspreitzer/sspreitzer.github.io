<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Useful Bash History Settings ::
        Sascha&#39;s Blog — Digital Revolution
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="This post aims to describe some useful bash history settings, that are all too often unknown of. Following are some environment variables described, which can be set in the users bashrc file in eg. ~/.bashrc.
HISTCONTROL    Setting Behaviour     ignorespace Do not record if line starts with a blank/space   ignoredups Do not record line if its a duplicate of the previous line   ignoreboth Do ignorespace and ignoredups   erasedups Do remove all occurences of line before saving line    The settings can be combined by colons, eg."
/>
<meta
  name="keywords"
  content="Sascha, Spreitzer, Sascha Spreitzer, Blog, Website, spreitzer.ch"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/bash-history/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/images/code2.jpg"/>

<meta name="twitter:title" content="Useful Bash History Settings"/>
<meta name="twitter:description" content="This post aims to describe some useful bash history settings, that are all too often unknown of. Following are some environment variables described, which can be set in the users bashrc file in eg. ~/.bashrc.
HISTCONTROL    Setting Behaviour     ignorespace Do not record if line starts with a blank/space   ignoredups Do not record line if its a duplicate of the previous line   ignoreboth Do ignorespace and ignoredups   erasedups Do remove all occurences of line before saving line    The settings can be combined by colons, eg."/>



<meta property="og:title" content="Useful Bash History Settings" />
<meta property="og:description" content="This post aims to describe some useful bash history settings, that are all too often unknown of. Following are some environment variables described, which can be set in the users bashrc file in eg. ~/.bashrc.
HISTCONTROL    Setting Behaviour     ignorespace Do not record if line starts with a blank/space   ignoredups Do not record line if its a duplicate of the previous line   ignoreboth Do ignorespace and ignoredups   erasedups Do remove all occurences of line before saving line    The settings can be combined by colons, eg." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bash-history/" />
<meta property="og:image" content="/images/code2.jpg" />
<meta property="article:published_time" content="2021-06-14T09:41:24+02:00" />
<meta property="article:modified_time" content="2021-06-14T09:41:24+02:00" /><meta property="og:site_name" content="Sascha&#39;s Blog" />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >saschas blog</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/posts">Posts</a></li>
        
      
        
          <li><a href="/categories">Categories</a></li>
        
      
        
          <li><a href="/about">About</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/posts">Posts</a></li>
      
    
      
        <li><a href="/categories">Categories</a></li>
      
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Useful Bash History Settings</h1>
    <div class="post-meta">
      
        <span class="post-date">
          14.06.2021
        </span>

        
          
        
      

      


      
    </div>

    

    
      <figure class="post-cover">
        
          <img src="/images/code2.jpg" alt="Useful Bash History Settings" />
        

        
      </figure>
    

    <div class="post-content">
      
      <p>This post aims to describe some useful bash history settings, that are all too often unknown of. Following are some environment variables described, which can be set in the users bashrc file in eg. <code>~/.bashrc</code>.</p>
<h3 id="histcontrol">HISTCONTROL</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Setting</th>
<th style="text-align:left">Behaviour</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>ignorespace</code></td>
<td style="text-align:left">Do not record if line starts with a blank/space</td>
</tr>
<tr>
<td style="text-align:left"><code>ignoredups</code></td>
<td style="text-align:left">Do not record line if its a duplicate of the previous line</td>
</tr>
<tr>
<td style="text-align:left"><code>ignoreboth</code></td>
<td style="text-align:left">Do <code>ignorespace</code> and <code>ignoredups</code></td>
</tr>
<tr>
<td style="text-align:left"><code>erasedups</code></td>
<td style="text-align:left">Do remove all occurences of line before saving line</td>
</tr>
</tbody>
</table>
<p>The settings can be combined by colons, eg. <code>ignorespace:erasedups</code>.</p>
<p>Example: <code>HISTCONTROL=&quot;ignorespace:ignoredups&quot;</code></p>
<h3 id="histignore">HISTIGNORE</h3>
<p>A colon <code>:</code> separated list of patterns. Patterns may include special <code>*</code> and <code>&amp;</code> characters.
<code>*</code> is a wildcard match, please note that matching a whole line is not implied at the end of your patterns.
You must explicitly set <code>*</code>. <code>&amp;</code> matches the previous line in the history.
Escaping can be done via double backslashes, eg <code>\\&amp;</code>.</p>
<p>Example: <code>HISTIGNORE=cd *:ls *:&amp;</code></p>
<h3 id="histsize">HISTSIZE</h3>
<p>The amount of lines to save in the history. This defaults to <code>500</code>.</p>
<p>Example: <code>HISTSIZE=1000000</code></p>
<h3 id="histfile">HISTFILE</h3>
<p>The path where the history is stored. Defaults to <code>~/.bash_history</code>.</p>
<p>Example: <code>HISTFILE=/dev/null</code></p>
<h3 id="condensing-the-history">Condensing the History</h3>
<p>My favorite history setting is to condense the history instead of using it as a log of consecutive commands.
Save to <code>~/.bashrc</code> or system-wide in <code>/etc/bash/bashrc</code></p>
<pre><code>HISTCONTROL='ignorespace:erasedups'
HISTIGNORE='cd *:ls *'
HISTSIZE='1000000'
</code></pre><h3 id="deactivating-the-history">Deactivating the History</h3>
<p>Some hackers use this trick to not get commands logged.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export HISTFILE<span style="color:#f92672">=</span>/dev/null
</code></pre></div><h3 id="useful-history-commands-and-key-combinations">Useful History Commands and Key Combinations</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Command or Combination</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>history -a</code></td>
<td style="text-align:left">Append current shell instance in-memory history to the history file</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl-r</code></td>
<td style="text-align:left">Reverse search the history. Press enter for execution of command</td>
</tr>
</tbody>
</table>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/idea-terraform-servicehub/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Idea: Terraform ServiceHub</span>
                </a>
              </span>
            
            
          </div>
        </div>
      
    

    
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "spreitzerch" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">&nbsp;</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
